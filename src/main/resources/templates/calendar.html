<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">

<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=yes">
<meta name="description" content="" />
<meta name="author" content="" />
<title>MYQLO | MY CALENDER</title>
<link rel="icon" type="image/x-icon"
	href="../static/dist/assets/img/favicon.ico" th:href="@{/dist/assets/img/favicon.ico}" />
<!-- Font Awesome icons (free version)-->
<script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js"
	crossorigin="anonymous"></script>
<!-- Google fonts-->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
	rel="stylesheet" type="text/css" />
<link
	href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic"
	rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
<!-- Bootstrap core JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
<!-- Third party plugin JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<!-- Core theme CSS (includes Bootstrap)-->
<link href="../static/dist/css/styles.css" rel="stylesheet" th:href="@{/dist/css/styles.css}"/>

<!-- FullCalender実装用 -->
<link href='../static/lib/main.css' rel='stylesheet' th:href="@{/lib/main.css}" />
<script src='../static/lib/locales/ja.js' th:src="@{/lib/locales/ja.js}"></script>
<script src='../static/lib/main.js' th:src="@{/lib/main.js}"></script> 
<!-- 月別データ表示用 -->
<script src='../static/js/show_price.js' th:src="@{dist/js/show_price.js}"></script> 
<script>
	document.addEventListener('DOMContentLoaded', function() {
		var calendarEl = document.getElementById('calendar');
	    var calendar = new FullCalendar.Calendar(calendarEl, {
	        locale: 'ja', 
	        editable: true,
	        events: 
	        	{
	        	 	url : '/show/perchase/all' 
	        	}
	      });
	      calendar.render();
	    });
</script>
<style>
a {
	color: black;
}

body {
	margin: 40px 10px;
	padding: 0;
	font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
	font-size: 14px;
}

#calendar {
	max-width: 1100px;
	margin: 0 auto;
}
</style>
<title>カレンダー</title>
</head>
<body>
	<!-- Navigation-->
	<div id="navArea">
		<nav>
			<div class="inner">
				<ul>
					<li><a href="top.html" th:href="@{/}"><i class="fas fa-home"></i>&emsp;&emsp;TOP</a></li>
                	<li><a href="statistics.html" th:href="@{/stats}"><i class="far fa-chart-bar"></i>&emsp;&emsp;統計データ</a></li>
                	<li><a href="calender.html" th:href="@{/calendar}"><i class="far fa-calendar-alt"></i>&emsp;&emsp;カレンダー</a></li>
                	<li><a href="coordinate.html" th:href="@{/coordinate}"><i class="fas fa-female"></i>&emsp;&emsp;コーディネート</a></li>
                	<li><a href="contact.html" th:href="@{/contact}"><i class="far fa-envelope"></i>&emsp;&emsp;お問い合わせ</a></li>
               		<li><a href="faq.html" th:href="@{/faq}"><i class="far fa-question-circle"></i>&emsp;&emsp;FAQ</a></li>
                	<li><a href="login.html" th:href="@{/logout}"><i class="fas fa-sign-out-alt"></i>&emsp;&emsp;ログアウト</a></li>
				</ul>
			</div>
		</nav>
		<div class="humberger_menue">
			<div class="toggle_btn">
				<span></span> <span></span> <span></span>
			</div>
		</div>
		<div id="mask"></div>
	</div>
	<div class="container" th:if="${dailyPerchaseDataList} != null">
		<div class="text-center" style="margin-top: 100px;">
			<h1 class="section-heading text-uppercase">MY CALENDER</h1>
			<div class="section-subheading text-muted">MYQLOに登録した服を月ごとにチェック！</div>
			<br> <br>
		</div>

		<!-- 各月データテーブル -->
		<div class="text-center">
			<table class="table">
				<thead>
					<tr>
						<th><h6 class="month_total_price" th:text="${month +'月の購入金額合計'}">〇月の購入金額合計</h6></th>
						<th><h6 class="month_price_average" th:text="${month +'月の平均購入金額'}">〇月の平均購入金額</h6></th>
						<th><h6 class="month_item_quantity" th:text="${month +'月の購入アイテム数'}">〇月の購入アイテム数</h6></th>
					</tr>
					<tr>
						<td class="total_price" th:text="${'¥&nbsp;'+ #numbers.formatInteger(totalPrice, 1, 'COMMA') }">¥120,650</td>
						<td class="price_average" th:text="${'¥&nbsp;'+ #numbers.formatInteger(priceAverage, 1, 'COMMA') }">¥5,250</td>
						<td class="item_quantity" th:text="${itemQuantity} + '点'">22&nbsp;点</td>
					</tr>
				</thead>
			</table>
		</div>
		<br>
			
		<!-- カレンダー挿入位置 -->
		<div id='calendar'>
			<input type="hidden" id="loginUserId" th:value="${loginUserId}">
		</div>
		<br>

	</div>

	<!-- Footer-->
	<footer class="footer py-4">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-4 text-lg-left">Copyright © MYQLO 2020</div>
				<div class="col-lg-4 my-3 my-lg-0">
					<a class="btn btn-dark btn-social mx-2" href="#!"><i
						class="fab fa-twitter"></i></a> <a
						class="btn btn-dark btn-social mx-2" href="#!"><i
						class="fab fa-facebook-f"></i></a> <a
						class="btn btn-dark btn-social mx-2" href="#!"><i
						class="fab fa-linkedin-in"></i></a>
				</div>
				<div class="col-lg-4 text-lg-right">
					<a class="mr-3" href="#!">Privacy Policy</a> <a href="#!">Terms
						of Use</a>
				</div>
			</div>
		</div>
	</footer>

	<!-- Contact form JS-->
	<script src="../static/dist/assets/mail/jqBootstrapValidation.js" th:src="@{/dist/assets/mail/jqBootstrapValidation.js}"></script>
	<script src="../static/dist/assets/mail/contact_me.js" th:src="@{/dist/assets/mail/contact_me.js}"></script>
	<!-- Core theme JS-->
	<script src="../static/dist/js/scripts.js" th:src="@{/dist/js/scripts.js}"></script>
	<script src="../static/dist/js/hamburger_menu.js" th:src="@{/dist/js/hamburger_menu.js}"></script>
</body>
</html>