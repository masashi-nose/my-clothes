<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<title>MYQLO | MY COORDINATE</title>
<link rel="icon" type="image/x-icon" href="../static/dist/assets/img/myqlo_favicon.jpg" th:href="@{../static/dist/assets/img/myqlo_favicon.jpg}"/>
<!-- Font Awesome icons (free version)-->
<script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js"
	crossorigin="anonymous"></script>
<!-- Google fonts-->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
	rel="stylesheet" type="text/css" />
<link
	href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic"
	rel="stylesheet" type="text/css" />
<link
	href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700"
	rel="stylesheet" type="text/css" />

<!-- coordinate.css読み込み -->
<link rel="stylesheet" href="../static/dist/css/coordinate.css"
	th:href="@{/dist/css/coordinate.css}">

<!-- Core theme CSS (includes Bootstrap)-->
<link href="../static/dist/css/styles.css"
	th:href="@{/dist/css/styles.css}" rel="stylesheet" />
<script src="../static/lib/main.js" th:src="@{/lib/main.js}"></script>
</head>
<body>
	<!-- Navigation-->
	<div id="navArea">
		<nav>
			<div class="inner">
				<ul>
					<li><a href="top.html" th:href="@{/}"><i
							class="fas fa-home"></i>&emsp;&emsp;TOP</a></li>
					<li><a href="statistics.html" th:href="@{/stats}"><i
							class="far fa-chart-bar"></i>&emsp;&emsp;統計データ</a></li>
					<li><a href="calender.html" th:href="@{/}"><i
							class="far fa-calendar-alt"></i>&emsp;&emsp;カレンダー</a></li>
					<li><a href="coordinate.html" th:href="@{/coordinate}"><i
							class="fas fa-female"></i>&emsp;&emsp;コーディネート</a></li>
					<li><a href="contact.html" th:href="@{/}"><i
							class="far fa-envelope"></i>&emsp;&emsp;お問い合わせ</a></li>
					<li><a href="faq.html" th:href="@{/faq}"><i
							class="far fa-question-circle"></i>&emsp;&emsp;FAQ</a></li>
					<li><a href="login.html" th:href="@{/logout}"><i
							class="fas fa-sign-out-alt"></i>&emsp;&emsp;ログアウト</a></li>
				</ul>
			</div>
		</nav>
		<div class="humberger_menue">
			<div class="toggle_btn">
				<span></span> <span></span> <span></span>
			</div>
		</div>
		<div id="mask"></div>
	</div>

	<!-- main -->
	<div class="wrapper">
		<div class="container">
			<div class="text-center">
				<h1 class="section-heading text-uppercase"
					style="margin-top: 100px;">MY COORDINATE LIST</h1>
				<div class="section-subheading text-muted">登録したコーディネート一覧</div>
				<br> <br>
			</div>

			<!-- コーデ未登録の場合、コーデ画面へ遷移誘導 -->
			<div th:if="${#lists.isEmpty(coordinateList)}">
				<div
					style="text-align: center; margin-top: 30px; margin-bottom: 370px;">
					<div>コーディネートが登録されていません。</div>
					<br>
					<div>
						<a href="coordinate.html" th:href="@{/coordinate}"><button
								type="button"
								class="btn btn-outline-primary continue-coordinate-btn"
								style="border-radius: 50px; width: 280px;">コーディネートを登録する</button></a>
					</div>
				</div>
			</div>

			<!-- コーデ登録済みの場合表示 -->
			<div th:if="!${#lists.isEmpty(coordinateList)}">
				<div id="past-coordinate-list">
					<div th:each="coordinate:${coordinateList}">
						<div class="past-coordinates">
							<h6 th:text="${coordinate.name}"></h6>

							<table class="table">
								<thead>
									<tr class="bg-light">
										<th th:each="clothes:${coordinate.clothesList}"
											th:text="${clothes.category.name}"
											style="text-align: center; font-size: 14px;"></th>

									</tr>
								</thead>
								<tbody>
									<tr>
										<td th:each="clothes:${coordinate.clothesList}">
											<div style="text-align: center;">
												<img class="img-fluid" th:src="${clothes.imagePath}" alt=""
													style="width: 160px; height: auto; text-align: center;" />
											</div>
										</td>
									</tr>
								</tbody>
							</table>

							<div style="text-align: right;">
								<span>
									<button type="button" class="btn btn-primary detail-btn"
										th:value="${coordinate.id}" data-toggle="modal"
										data-target="#coordinate-modal"
										th:attr="data-target='#coordinate-modal'+${coordinate.id}">
										<small>コーディネート詳細</small>
									</button>
								</span>

								<!-- コーデ詳細モーダル -->
								<div class="modal fade"
									th:id="coordinate-modal+${coordinate.id}" tabindex="-1"
									role="dialog" aria-labelledby="exampleModalLabel">
									<div class="modal-dialog">
										<div class="modal-content">

											<!-- モーダル内ヘッダー -->
											<div class="modal-header">
												<h5 class="modal-title" id="exampleModalLabel"
													th:text="${coordinate.name}"></h5>
												<button type="button" class="close" data-dismiss="modal"
													aria-label="閉じる">
													<span aria-hidden="true">&times;</span>
												</button>
											</div>

											<!-- モーダル内ボディ -->
											<div class="modal-body">
												<div th:each="clothes:${coordinate.clothesList}">
													<table class="table modal-tbl">
														<tbody>
															<tr>
																<td rowspan="5"><div style="text-align: center;">
																		<img class="img-fluid" th:src="${clothes.imagePath}"
																			alt="" style="width: 200px; height: auto;" />
																	</div></td>
																<td style="color: black; text-align: center;"
																	class="table-active clm"><label
																	style="font-weight: bold;">カテゴリー</label></td>
																<td style="color: black; text-align: center;"><span
																	class="modal-txt" th:text="${clothes.category.name}"></span></td>
															</tr>
															<tr>
																<td style="color: black; text-align: center;"
																	class="table-active clm"><label
																	style="font-weight: bold;">ブランド</label></td>
																<td style="color: black; text-align: center;"><span
																	class="modal-txt" th:text="${clothes.brand.name}"></span></td>

															</tr>
															<tr>
																<td style="color: black; text-align: center;"
																	class="table-active clm"><label
																	style="font-weight: bold;">金額</label></td>
																<td style="color: black; text-align: center;"><span
																	class="modal-txt"
																	th:text="${#numbers.formatInteger(clothes.price, 1, 'COMMA') + '&nbsp;円'}"></span></td>
															</tr>
															<tr>
																<td style="color: black; text-align: center;"
																	class="table-active clm"><label
																	style="font-weight: bold;">購入日</label></td>
																<td style="color: black; text-align: center;"><span
																	class="modal-txt"
																	th:text="${#dates.format(clothes.perchaseDate, 'yyyy年M月d日')}"></span></td>
															</tr>
															<tr>
																<td style="color: black; text-align: center;"
																	class="table-active clm"><label
																	style="font-weight: bold;">メモ</label></td>
																<td style="color: black; text-align: center;"><span
																	class="modal-txt" th:text="${clothes.comment}"></span></td>
															</tr>
														</tbody>
													</table>
												</div>
												<br>
												<!-- コーデ合計金額反映 -->
												<div
													style="font-weight: bold; font-size: 18px; margin-right: 5px;">
													このコーディネートの合計金額：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
														class="total-price"></span>
												</div>
												<br>
												<!-- モーダル内フッター -->
												<div class="modal-footer">
													<span>
														<button type="button" class="btn btn-primary delete-btn"
															th:id="${coordinate.id}" th:value="${coordinate.id}">
															<small>このコーディネートを削除する</small>
														</button>
													</span>
													<button type="button" class="btn btn-secondary"
														data-dismiss="modal">閉じる</button>
												</div>
												<!-- /.modal-footer -->
											</div>
											<!-- /.modal-content -->
										</div>
										<!-- /.modal-dialog -->
									</div>
									<!-- /.modal -->
									<!-- モーダル設定終了 -->
								</div>
							</div>


							<br> <br> <br> <br>
						</div>
					</div>

					<!-- もっと見るボタン -->
					<div style="text-align: center;">
						<button id="more_btn" class="btn btn-light"
							style="border-radius: 50px; width: 300px;">
							もっと見る&nbsp;&nbsp;<i class="fa fa-chevron-down" aria-hidden="true"></i>
						</button>
					</div>
					<div style="text-align: center;">
						<button id="close_btn" class="btn btn-light"
							style="border-radius: 50px; width: 300px;">
							閉じる&nbsp;&nbsp; <i class="fa fa-chevron-up" aria-hidden="true"></i>
						</button>
					</div>
				</div>
				<!-- コーデ登録固定ボタン -->
				<div class="register-coordinate-btn">
					<a href="coordinate.html" th:href="@{/coordinate}"
						class="btn-circle-stitch"> <i class="fas fa-female"></i> <span>コーデ登録</span>
					</a>
				</div>
			</div>
		</div>


		<!-- Footer-->
		<footer class="footer py-4">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-lg-4 text-lg-left">Copyright © MYQLO 2020</div>
					<div class="col-lg-4 my-3 my-lg-0">
						<a class="btn btn-dark btn-social mx-2" href="#!"><i
							class="fab fa-twitter"></i></a> <a
							class="btn btn-dark btn-social mx-2" href="#!"><i
							class="fab fa-facebook-f"></i></a> <a
							class="btn btn-dark btn-social mx-2" href="#!"><i
							class="fab fa-linkedin-in"></i></a>
					</div>
				</div>
			</div>
		</footer>
	</div>


	<!-- Bootstrap core JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
	<!-- Third party plugin JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>


	<!-- Contact form JS-->
	<script src="../static/dist/assets/mail/jqBootstrapValidation.js"
		th:src="@{/dist/assets/mail/jqBootstrapValidation.js}"></script>
	<script src="../static/dist/assets/mail/contact_me.js"
		th:src="@{/dist/assets/mail/contact_me.js}"></script>
	<!-- Core theme JS-->
	<script src="../static/dist/js/scripts.js"
		th:src="@{/dist/js/scripts.js}"></script>
	<script src="../static/dist/js/hamburger_menu.js"
		th:src="@{/dist/js/hamburger_menu.js}"></script>

	<!-- Coordinate Ajax -->
	<script type="text/javascript" src="../static/dist/js/coordinate.js"
		th:src="@{/dist/js/coordinate.js}"></script>
	<script type="text/javascript"
		src="../static/dist/js/past-coordinate.js"
		th:src="@{/dist/js/past-coordinate.js}"></script>
</body>
</html>